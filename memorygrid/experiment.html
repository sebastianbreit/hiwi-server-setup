<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="Charley Wu (based on work by James Chu)">
    <meta charset="utf-8">
    <title>Exploring the unknown</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://code.jquery.com/ui/1.10.4/jquery-ui.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.min.js"></script>
    <!--script src="https://code.jquery.com/ui/1.10.4/jquery-ui.min.js"></script-->
     <script src="https://d3js.org/d3.v3.min.js" charset="utf-8"></script>
    <link rel="stylesheet" type="text/css" href="grid2D.css">
    <link href="https://code.jquery.com/ui/1.10.4/themes/ui-lightness/jquery-ui.css" rel="stylesheet" type="text/css">
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">

 </head>
    <body>

        <div class="container">
            <div class="row">


                <!--Second page contains Ethics statement-->
                <div id="page1" style="display:block">
                  <!-- <object id="infoSheet" width="" height="" data="InfoSheet.pdf"></object> -->
                  <img src="InfoSheet_1.png"/>
                  <img src="InfoSheet_2.png"/>
                  <div class="row">
                    <div class="form-check">
                      <input class="form-check-input big-checkbox" type="checkbox" value="" id="consentCheckbox">
                      <label id="consentCheckboxText" class="form-check-label" for="consentCheckbox">
                        I agree to take part in the study.
                      </label>
                    </div>
                  </div>
                  <div class="row"></div>
                  <div class="row">
                    <div class="col-md-2">
                      <button class='btn btn-primary btn-lg' type="button" name="button";  id="agreeToConsent" >Begin</button>
                    </div>
                  </div>
                  
                </div>





                <div id="page2" style="display:none">
                    <div id="instructions_memory" style = "display:none">
                        <h3>Instructions:</h3>
                        <p><b>Please read the following instructions very carefully: </b></p>
                        <br>
                        <p id='instructions_memory_gridsClicks'> In the following study, you will be presented with a series of <b>8 different grids to explore</b>. By clicking on tiles in the grid, you reveal points that are associated with the location on the grid. On each grid, you will have <b>40 clicks</b>, with the number of remaining clicks displayed above the grid. When you run out of clicks, you will start a new round on the next unexplored grid.</p>
                        <p> Each grid starts with a single tile revealed. Use your mouse to click and reveal new tiles, which will display a number corresponding to the number of points you gain. Revealed tiles are also color coded, as a visual aid to help you in this task. Darker colors correspond to larger rewards. Previously revealed tiles can also be reselected and there may be small changes in the point value.</p>
                        <p id='instructions_memory_goalGrids'> It is your task to <b>gain as many points as possible</b> across all 8 grids. You will be assigned a bonus of up to $1.50 based on your total score across all grids. </p>
                        <p> <b>Important!</b> Points are clustered along the grid, such that areas with high-value points tend to appear close to each other and areas of low-value points tend to appear close to each other. All payoffs are greater than zero, with the maximum payoff differing between grids. </p>
                        <p id="instructions_memory_instruction"> <b>Important!</b> After you select and reveal a new tile, the <b>reward value will only be visible for 800 ms,</b> before it disappears again.</p>
                        <p> Below, we show some examples of what the distribution of points are like, with the darker tiles indicating higher point values.</p>
                        <br><br>
                    </div>
                    <div id="instructions_nomemory" style = "display:none">
                        <h3>Instructions:</h3>
                        <p><b>Please read the following instructions very carefully:</b></p>
                        <br>
                        <p id='instructions_nomemory_gridsClicks'> In the following study, you will be presented with a series of <b>8 different grids to explore</b>. By clicking on tiles in the grid, you reveal points that are associated with the location on the grid. On each grid, you will have <b>40 clicks</b>, with the number of remaining clicks displayed above the grid. When you run out of clicks, you will start a new round on the next unexplored grid.</p>
                        <p> Each grid starts with a single tile revealed. Use your mouse to click and reveal new tiles, which will display a number corresponding to the number of points you gain. Revealed tiles are also color coded, as a visual aid to help you in this task. Darker colors correspond to larger rewards. Previously revealed tiles can also be reselected and there may be small changes in the point value.</p>
                        <p id='instructions_nomemory_goalGrids'> It is your task to <b>gain as many points as possible</b> across all 8 grids. You will be assigned a bonus of up to $1.50 based on your total score across all grids. </p>
                        <p><b>Important!</b> Points are clustered along the grid, such that areas with high-value points tend to appear close to each other and areas of low-value points tend to appear close to each other. All payoffs are greater than zero, with the maximum payoff differing between grids. </p>
                        <p> Below, we show some examples of what the distribution of points are like, with the darker tiles indicating higher point values.</p>
                    </div>
                    <div id='examples'>
                      <div class="row">
                        <div class="col-5">
                          <div id='example1' style='display:none'> </div>
                          <div id='example2' style='display:none'></div>
                          <div id='example3' style='display:none'></div>
                          <div id='example4' style='display:none'></div>
                        </div>                        
                        <div class="col-3">
                          <button class='btn btn-primary btn-lg' type="button" name="button" id='exampleButton';  >Show Example</button>
                        </div>
                      </div>
                    </div>  
                 </div>


                <div id="page3" style="display:none">
                  <div class="container">
                    <div class="row mb-2">
                      <div class="col-5">
                        <fieldset class="form-group">
                            <legend class="text-l">What happens when a tile is selected?</legend>
                            <div class="form-check">
                              <input class="form-check-input" type="radio" name="radioq1" id="radioq1a">
                              <label class="form-check-label" for="radioq1a">
                                 Its latest reward value will be revealed permanently.
                              </label>
                            </div>
                            <div class="form-check">
                              <input class="form-check-input" type="radio" name="radioq1" id="radioq1b">
                              <label class="form-check-label" for="radioq1b" id="radio_text_memory_correct">
                                Its latest reward value will be revealed for 800ms.
                              </label>
                            </div>
                            <div class="form-check">
                              <input class="form-check-input" type="radio" name="radioq1" id="radioq1c">
                              <label class="form-check-label" for="radioq1c">
                                Its unique associated reward value will be revealed permanently.
                              </label>
                            </div>
                            <div class="form-check">
                              <input class="form-check-input" type="radio" name="radioq1" id="radioq1d">
                              <label class="form-check-label" for="radioq1d" id="radio_text_memory_false">
                                Its unique associated reward value will be revealed for 800ms.
                              </label>
                            </div>
                        </fieldset>
                      </div>
                      <div class="col-2">
                        <p>&nbsp;</p>
                      </div>
                      <div class="col-5">
                        <fieldset class="form-group">
                            <legend class="text-l">What is the goal of this task?</legend>
                            <div class="form-check">
                              <input class="form-check-input" type="radio" name="radioq2" id="radioq2a">
                              <label class="form-check-label" for="radioq2a">
                                 Learning the colours of the tiles.
                              </label>
                            </div>
                            <div class="form-check">
                              <input class="form-check-input" type="radio" name="radioq2" id="radioq2b">
                              <label class="form-check-label" for="radioq2b">
                                Learning where the largest reward is.
                              </label>
                            </div>
                            <div class="form-check">
                              <input class="form-check-input" type="radio" name="radioq2" id="radioq2c">
                              <label class="form-check-label" for="radioq2c">
                                 Gaining as many points as possible.
                              </label>
                            </div>
                            <div class="form-check">
                              <input class="form-check-input" type="radio" name="radioq2" id="radioq2d">
                              <label class="form-check-label" for="radioq2d">
                                 Memorizing the location of the largest reward for each grid.
                              </label>
                            </div>
                        </fieldset>
                      </div>
                    </div>
                    <div class="row mb-2">
                      <div class="col-5">
                        <fieldset class="form-group">
                            <legend class="text-l">How are the points distributed?</legend>
                            <div class="form-check">
                              <input class="form-check-input" type="radio" name="radioq3" id="radioq3a">
                              <label class="form-check-label" for="radioq3a">
                                High-value points are always in the same area.
                              </label>
                            </div>
                            <div class="form-check">
                              <input class="form-check-input" type="radio" name="radioq3" id="radioq3b">
                              <label class="form-check-label" for="radioq3b">
                                High-value points tend to be in the same area.
                              </label>
                            </div>
                            <div class="form-check">
                              <input class="form-check-input" type="radio" name="radioq3" id="radioq3c">
                              <label class="form-check-label" for="radioq3c">
                                High-value points are never next to each other.
                              </label>
                            </div>
                            <div class="form-check">
                              <input class="form-check-input" type="radio" name="radioq3" id="radioq3d">
                              <label class="form-check-label" for="radioq3d">
                                Points are distributed randomly across the grid.
                              </label>
                            </div>
                        </fieldset>
                      </div>
                      <div class="col-2">
                        <p>&nbsp;</p>
                      </div>
                      <div class="col-5">
                        <fieldset class="form-group">
                            <legend class="text-l">How will your performance bonus be determined?</legend>
                            <div class="form-check">
                              <input class="form-check-input" type="radio" name="radioq4" id="radioq4a">
                              <label class="form-check-label" for="radioq4a">
                                 You will be rewarded based on your total score across all grids.
                              </label>
                            </div>
                            <div class="form-check">
                              <input class="form-check-input" type="radio" name="radioq4" id="radioq4b">
                              <label class="form-check-label" for="radioq4b">
                                You will be rewarded based on the largest reward you found for each grid.
                              </label>
                            </div>
                            <div class="form-check">
                              <input class="form-check-input" type="radio" name="radioq4" id="radioq4c">
                              <label class="form-check-label" for="radioq4c">
                                You will be rewarded based on how accurately you can remember the largest rewards of each grid.
                              </label>
                            </div>
                            <div class="form-check">
                              <input class="form-check-input" type="radio" name="radioq4" id="radioq4d">
                              <label class="form-check-label" for="radioq4d">
                                 You will not be able to earn a performance bonus.
                              </label>
                            </div>
                        </fieldset>
                      </div>
                    </div>
                    <div class="row mt-md-5">
                      <div class="col-4"></div>
                      <div class="col-4">
                        <div class="d-flex justify-content-center">
                          <p class="text-center"> Only when you have answered all the questions correctly will you be able to start the study.</p>
                        </div>
                        </div>
                      <div class="col-4"></div>
                    </div>
                    <div class="row mt-md-2">
                      <div class="col-4"></div>
                      <div class="col-4">
                        <div class="d-flex justify-content-center">
                          <button class='btn btn-primary btn-lg' type="button" name="button"; id='instructionsButton'>Check answers</button>
                        </div>
                        </div>
                      <div class="col-4"></div>
                    </div>
                    
                      
                  </div>
                 
                    
                </div>


                <div id="page4" style="display:none">
                  <div class="container">
                    <div class="row mt-md-5">
                      <div class="col-4"></div>
                      <div class="col-4">
                        <div class="d-flex justify-content-center">
                          <p class="text-center"> Very good. You have answered all questions correctly and can now start the study.</p>
                        </div>
                        </div>
                      <div class="col-4"></div>
                    </div>
                    <div class="row mt-md-2">
                      <div class="col-4"></div>
                      <div class="col-4">
                        <div class="d-flex justify-content-center">
                          <button class='btn btn-primary btn-lg' type="button" name="button"; id='beginExpButton'>Start</button>
                        </div>
                        </div>
                      <div class="col-4"></div>
                    </div>
                  </div>
                </div>

                <div id="page5" style="display:none">
                <!-- Begin page content -->
                    <div class="page-header" id="expHeader_memory" style = 'display:none'>
                        <h1> <font size="4">Goal: Gain as many points as possible.</font> </h1>
                    </div>
                    <div class="page-header" id="expHeader_nomemory" style = 'display:none'>
                        <h1> <font size="4">Goal: Gain as many points as possible.</font> </h1>
                    </div>
                    <div id="instruction_summary_memory" style="display:none">
                        <p> <b>Summarized Instructions:</b></p>
                        <p id="summary_1_memory"><b>I.</b> Below you see a grid with 11x11 tiles. When you click on a tile, the points of that tile are revealed and its value will be displayed for 800ms. Tiles are colored, corresponding to the point value. </p>
                        <p><b>II.</b> Tiles can be repeatedly clicked, although there may be small variations in the points earned. Only the most recently uncovered point value is displayed.</p>
                        <p><b>III.</b> The points of a tile depends upon where it is located, with neighboring tiles tend to have similar point values. </p>
                        <p><b>IV.</b> On top of the grid, you can see how many clicks you have left, the number of grids left to explore, and your relative performance bonus you have currently earned.</p>
                        <p id= "summarized_instructions_V_memory"><b>V.</b> There are 8 different grids with 40 clicks in each.</p>
                        <p><b>VI.</b> Your reward will be based on the total points you earn, by revealing new tiles and also by reclicking previously revealed tiles.</p>
                    </div>
                    <div id="instruction_summary_nomemory" style="display:none">
                        <p> <b>Summarized Instructions:</b></p>
                        <p><b>I.</b> Below you see a grid with 11x11 tiles. When you click on a tile, the points of that tile are revealed and its value will be displayed. Tiles are colored, corresponding to the point value. </p>
                        <p><b>II.</b> Tiles can be repeatedly clicked, although there may be small variations in the points earned. Only the most recently uncovered point value is displayed.</p>
                        <p><b>III.</b> The points of a tile depends upon where it is located, with neighboring tiles tend to have similar point values. </p>
                        <p><b>IV.</b> On top of the grid, you can see how many clicks you have left, the number of grids left to explore, and your relative performance bonus you have currently earned.</p>
                        <p id= "summarized_instructions_V_nomemory"><b>V.</b> There are 8 different grids with 40 clicks in each.</p>
                        <p><b>VI.</b> Your reward will be based on the total points you earn, by revealing new tiles and also by reclicking previously revealed tiles.</p>
                    </div>
                    <!-- Bonus Round instructions  -->
                    <div id="bonusRoundInstructions" style="display:none; text-align: left;">
                         <div class="text-l" id="bonusIntroInstructions" style="display:block; padding:5px; border: 3px dashed orange;">
                            <h2>Bonus Round!</h2>
                            <p id="instructions_bonus">In the bonus round, you have the same goal of getting as many points as possible. However, after <b>40 selections</b>, you will be asked some bonus questions. You will be shown 10 locations you have not selected this round, and asked to guess how many points you would get by selecting them. See if you can guess them all correctly! <br>Afterwards, you will be asked to choose one of the 10 locations. <br><b> Remember! </b> Your goal is still to gain as many points as possible!</p>
                        </div><br><br>
                        <div >
                            <button type="button" class='btn btn-primary btn-lg' id="startBonusRound" >Continue</button>
                        </div>
                    </div>
                    <div id="page5finished" style="display:none">
                      <div class="container">
                        <div class="row mt-md-5">
                          <div class="col-2"></div>
                          <div class="col-8">
                            <div class="d-flex justify-content-center">
                              <p id="trials" class="text-center"> <b>You have finished exploring this grid. You have n more grids to explore.</b></p>
                            </div>
                            </div>
                          <div class="col-2"></div>
                        </div>
                        <div class="row mt-md-2">
                          <div class="col-4"></div>
                          <div class="col-4">
                            <div class="d-flex justify-content-center">
                              <button class='btn btn-primary btn-lg' type="button" name="button"; id='nextTrialButton'>Continue</button>
                            </div>
                            </div>
                          <div class="col-4"></div>
                        </div>
                      </div>
                  </div>
                  <div id="page5guess" style="display:none">
                    <div class="container">
                      <div class="row mt-md-5">
                        <div class="col-2"></div>
                        <div class="col-8">
                          <div class="d-flex justify-content-center">
                            <p id="Guess" class="text-center"> <b>You have run out of clicks for this grid. Please click the tile where you believe the largest reward is located.</b> </p>
                          </div>
                          </div>
                        <div class="col-2"></div>
                      </div>
                      <div class="row mt-md-2">
                        <div class="col-4"></div>
                        <div class="col-4">
                          <div class="d-flex justify-content-center">
                            <button class='btn btn-primary btn-lg' type="button" name="button"; id='nextTrialGuessButton'>Continue</button>
                          </div>
                          </div>
                        <div class="col-4"></div>
                      </div>
                    </div>
                  </div>
                  <div id="page5BonusRound" style="display:none">
                    <div class="container">
                      <div class="row mt-md-5">
                        <div class="col-2"></div>
                        <div class="col-8">
                          <div class="d-flex justify-content-center">
                            <p id="Bonus" class="text-center"> <b>Placeholder</b> </p>
                          </div>
                          </div>
                        <div class="col-2"></div>
                      </div>
                      <div class="row mt-md-2">
                        <div class="col-4"></div>
                        <div class="col-4">
                          <div class="d-flex justify-content-center">
                            <button class='btn btn-primary btn-lg' type="button" name="button"; id='nextTrialBonusButton'>Continue</button>
                          </div>
                          </div>
                        <div class="col-4"></div>
                      </div>
                    </div>
                  </div>
                  <div id="page5BonusEstimates" style="display:none">
                    <div class="container">
                      <div class="row mt-md-5">
                        <div class="col-2"></div>
                        <div class="col-8">
                          <div class="d-flex justify-content-center">
                            <p id="BonusEstimate" class="text-center"> Placeholder bonus estimate instructions  </p>
                          </div>
                          </div>
                        <div class="col-2"></div>
                      </div>
                      <div class="row mt-md-2">
                        <div class="col-4"></div>
                        <div class="col-4">
                          <div class="d-flex justify-content-center">
                            <button class='btn btn-primary btn-lg' type="button" name="button"; id='estimateBonusButton'>Continue</button>
                          </div>
                          </div>
                        <div class="col-4"></div>
                      </div>
                    </div>
                  </div>
                  <div id="page5BonusEstimatesDone" style="display:none">
                    <div class="container">
                      <div class="row mt-md-5">
                        <div class="col-2"></div>
                        <div class="col-8">
                          <div class="d-flex justify-content-center">
                            <p id="BonusEstimateDone" class="text-center"> Placeholder bonus estimate instructions  </p>
                          </div>
                          </div>
                        <div class="col-2"></div>
                      </div>
                      <div class="row mt-md-2">
                        <div class="col-4"></div>
                        <div class="col-4">
                          <div class="d-flex justify-content-center">
                            <button class='btn btn-primary btn-lg' type="button" name="button"; id='continueFromBonus'>Continue</button>
                          </div>
                          </div>
                        <div class="col-4"></div>
                      </div>
                    </div>
                  </div>
                  <div id='gridDiv' class="stimuliDisplay">
                      <font color="green"><center><b><div id="scoretotal">Reward Earned in Current Round: $0.00</div></b></center> </font>
                      <center><div id="remaining_grids">Number of grids left: <b>8</b></div></center>
                      <center><div id="remaining_clicks">Number of clicks left: <b>20</b></div></center> 
                      <center>
                        <table id='grid' class='grid'> <tbody></tbody> </table>
                      </center>
                      <br><br>
                  </div>
                    


                    <div id = 'bonusRoundDiv' class='row' style='display:none'>
                        <center>
                            <div id='input' class='col-md'>
                                <h4> How many points do you think the <b>blue</b> item will earn? </h4>
                                <div class="range-slider" style="width: 300px;">
                                    <input id='valueSlider' class="input-range" type="range" value="50" min="1" max="85" step="1" oninput="estimateSliderChange(this.value)">
                                </div>
                                <output class="text-l" id="output">50 points</output>
                                <h4> How confident are you? </h4>
                                <div class="range-slider" style="width: 300px;">
                                    <input id='confidenceSlider' class="input-range" type="range" value="6" min="1" max="11" step="1"  oninput="confidenceSliderChange()">
                                </div>
                                <div class="text-l">
                                    Least confident <span class="spacer" style="width: 150px; display: inline-block;"></span> Most confident
                                </div> <br>
                          <button class='btn btn-primary btn-lg' type="button" name="button" id="submitBonusJudgmentButton" >Submit</button>
                            </div>
                        </center>
                    </div>
                    <div id="bonusRoundAFC" style="display:none">
                        <br><br>
                        <div id="BonusAFC"> <h1> <font size="4">Of the 10 selected items, which one would you choose? Click on it now.</font> </h1> </div>
                        <br><br>

                    </div>
                </div>

                <div id="page6" style="display:none">
                    <div class="page-header" id="thanksforcompleting" >
                        <h1> <font size="4">Thank you for completing our study.</font> </h1>
                    </div>
              <fieldset>
              <div>
                Please check that your <b>MTurk ID</b> is correct. If not entered correctly, you may not be able to receive your bonus.<br><br>
                <form>
                    MTurk ID:<br>
                    <input class="form-control" type="text" id="MTurkID"><br>
                </form>
                </div> <br>
              <div>
                How old are you?<br>
                <input class="form-control" id="age" type="number"  class = 'edit-items' name="quantity" min="18" max="99">
              </div><br>
              <div>
                What's your gender?<br>
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="gender" id="gender1" value="0">
                  <label class="form-check-label" for="gender1">Female</label>
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="gender" id="gender2" value="1">
                  <label class="form-check-label" for="gender2">Male</label>
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="gender" id="gender3" value="2">
                  <label class="form-check-label" for="gender3">Non-binary/Other</label>
                </div>
              </div><br>
              <div>
              <form>Please let us know what strategies you used when searching the grids: <br>
                <textarea class="form-control" cols="40" rows="5" id="processDescription" name="Comments" placeholder="How did you try to increase your performance bonus?"></textarea><br><br>
              </form>
              </div>
              </fieldset>
                    <div style="width:50px;margin:0 auto">
                        <button class='btn btn-primary btn-lg' type="button" name="button" id="submitDataButton">Done</button>
                    </div>
                </div>

                <div id="page7" style="display:none">
                    <h3>Thank you for participating in our experiment.</h3>
                    <div id="bonus"> You have achieved a bonus of $0.00 </div>
                    <p> To earn your base fee of $0.50, please copy and paste the following completion code into the Amazon MTurk window for this HIT: <b>MAB2016</b> </p>
                </div>

            </div>

        </div>
        <div class="modal fade" id="errorModal" tabindex="-1">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title">Error</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                <p id=error>Modal body text goes here.</p>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
              </div>
            </div>
          </div>
        </div>

        <script src="js/utilities.js" charset="utf-8"></script>
        <script src="js/memorygrid.js" charset="utf-8"></script>
        <script src="js/connect_html.js" charset="utf-8"></script>

    </body>
</html>
